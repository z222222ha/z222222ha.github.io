"use strict";(self["webpackChunkwms_web"]=self["webpackChunkwms_web"]||[]).push([[11],{9011:function(e,t,l){l.r(t),l.d(t,{default:function(){return c}});var a=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticStyle:{"margin-bottom":"5px"}},[t("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入名字","suffix-icon":"el-icon-search"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.loadPost.apply(null,arguments)}},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),t("el-select",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{placeholder:"请选择性别"},model:{value:e.sex,callback:function(t){e.sex=t},expression:"sex"}},e._l(e.sexOptation,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),t("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:e.loadPost}},[e._v("查询")]),t("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"info"},on:{click:e.clear}},[e._v("重置")]),t("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("添加")]),t("el-dialog",{attrs:{title:"添加信息",visible:e.dialogVisible,width:"500px","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[t("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[t("el-form-item",{attrs:{label:"账号"}},[t("el-col",{attrs:{span:20}},[t("el-input",{model:{value:e.form.no,callback:function(t){e.$set(e.form,"no",t)},expression:"form.no"}})],1)],1),t("el-form-item",{attrs:{label:"姓名"}},[t("el-col",{attrs:{span:20}},[t("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),t("el-form-item",{attrs:{label:"密码"}},[t("el-col",{attrs:{span:20}},[t("el-input",{model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1)],1),t("el-form-item",{attrs:{label:"年龄"}},[t("el-col",{attrs:{span:20}},[t("el-input",{model:{value:e.form.age,callback:function(t){e.$set(e.form,"age",t)},expression:"form.age"}})],1)],1),t("el-form-item",{attrs:{label:"性别"}},[t("el-radio-group",{model:{value:e.form.sex,callback:function(t){e.$set(e.form,"sex",t)},expression:"form.sex"}},[t("el-radio",{attrs:{label:"0"}},[e._v("女")]),t("el-radio",{attrs:{label:"1"}},[e._v("男")])],1)],1),t("el-form-item",{attrs:{label:"电话"}},[t("el-col",{attrs:{span:20}},[t("el-input",{model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1)],1),t("el-form-item",{attrs:{label:"角色"}},[t("el-select",{attrs:{placeholder:"请选择用户角色"},model:{value:e.form.roleId,callback:function(t){e.$set(e.form,"roleId",t)},expression:"form.roleId"}},[t("el-option",{attrs:{label:"管理员",value:"1"}}),t("el-option",{attrs:{label:"用户",value:"2"}})],1)],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.add()}}},[e._v("确 定")])],1)],1)],1),t("el-table",{staticStyle:{width:"100%","font-size":"15px"},attrs:{data:e.tableData,border:"","header-cell-style":{"background-color":"#909399",color:"#303133"}}},[t("el-table-column",{attrs:{prop:"id",label:"ID","min-width":"10%"}}),t("el-table-column",{attrs:{prop:"no",label:"账号","min-width":"10%"}}),t("el-table-column",{attrs:{prop:"name",label:"姓名","min-width":"15%"}}),t("el-table-column",{attrs:{prop:"age",label:"年龄","min-width":"10%"}}),t("el-table-column",{attrs:{prop:"sex",label:"性别","min-width":"10%"},scopedSlots:e._u([{key:"default",fn:function(l){return[t("el-tag",{staticStyle:{"font-size":"15px"},attrs:{type:1===l.row.sex?"primary":"success","disable-transitions":""}},[e._v(e._s(1===l.row.sex?"男":"女"))])]}}])}),t("el-table-column",{attrs:{prop:"roleId",label:"角色","min-width":"15%"},scopedSlots:e._u([{key:"default",fn:function(l){return[t("el-tag",{staticStyle:{"font-size":"15px"},attrs:{type:0===l.row.roleId?"danger":1===l.row.roleId?"warning":"success","disable-transitions":""}},[e._v(e._s(0===l.row.roleId?"超级管理员":1===l.row.roleId?"管理员":"普通用户"))])]}}])}),t("el-table-column",{attrs:{prop:"phone",label:"电话","show-overflow-tooltip":"","min-width":"20%"}}),t("el-table-column",{attrs:{label:"操作","min-width":"20%"},scopedSlots:e._u([{key:"default",fn:function(l){return[t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleEdit(l.$index,l.row)}}},[e._v("编辑")]),t("el-button",{attrs:{type:"danger"},on:{click:function(t){return e.handleDelete(l.$index,l.row)}}},[e._v("删除")])]}}])})],1),t("el-pagination",{staticStyle:{"font-size":"15px"},attrs:{background:"","current-page":e.pageNum,"page-sizes":[2,5,7,10,20],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},o=[],s={data(){return{tableData:[],pageNum:1,pageSize:7,total:0,name:"",sex:"",sexOptation:[{value:"0",label:"女"},{value:"1",label:"男"}],dialogVisible:!1,form:{no:"",name:"",password:"",age:"",sex:"",phone:"",roleId:""}}},methods:{handleClose(e){this.$confirm("确认关闭？").then((()=>{e()})).catch((()=>{}))},loadPost(){this.$axios.post(this.$httpUrl+"/user/listPage",{pageNum:this.pageNum,pageSize:this.pageSize,param:{name:this.name,sex:this.sex}}).then((e=>e.data)).then((e=>{console.log(e),200==e.code?(this.tableData=e.data,this.total=e.total):alert("获取数据失败")}))},handleSizeChange(e){console.log(`每页 ${e} 条`),this.pageSize=e,this.loadPost()},handleCurrentChange(e){console.log(`当前页: ${e}`),this.pageNum=e,this.loadPost()},clear(){this.name=null,this.sex="",this.loadPost()},add(){this.$axios.post(this.$httpUrl+"/user/save",this.form).then((e=>e.data)).then((e=>{1==e?(alert("添加成功"),this.dialogVisible=!1,this.loadPost()):alert("添加失败")}))}},beforeMount(){this.loadPost()}},n=s,r=l(5440),i=(0,r.Z)(n,a,o,!1,null,"58716c9e",null),c=i.exports}}]);
//# sourceMappingURL=11.c5c96093.js.map